<div>
    <div class="w-full">
        <div class="bg-white py-4 md:py-7 px-4 md:px-8 xl:px-10">
            <div class="sm:flex items-center justify-between">
                <div class="flex items-center">
                    <div class="sm:flex items-center justify-between">
                        <div class='max-w-md mx-auto'>
                            <div class="relative flex items-center w-full h-12 rounded-lg focus-within:shadow-lg bg-white overflow-hidden">
                                <input
                                    class="peer h-full w-full outline-none text-sm text-gray-700 pr-2"
                                    type="search"
                                    id="search"
                                    placeholder="ChessMatch ID: " 
                                /> 
                                <button class="inline-flex items-center px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-500 focus:outline-none focus:ring-2 focus:ring-indigo-600">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-search" viewBox="0 0 16 16">
                                        <path d="M11.742 10.742a6.5 6.5 0 1 0-1.4 1.4l3.25 3.25a1 1 0 0 0 1.415-1.415l-3.25-3.25zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0z"/>
                                    </svg>
                                </button>
                                <div class="flex items-center">
                                    {% if before > 2 %}
                                    <a class="rounded-full focus:outline-none focus:ring-2 focus:bg-indigo-50 focus:ring-indigo-800 ml-4 sm:ml-8" href="/{{before}}/">
                                        <div class="py-2 px-8 text-gray-600 hover:text-indigo-700 hover:bg-indigo-100 rounded-full">
                                            <p>Anterior</p>
                                        </div>
                                    </a>
                                    {% endif %}
                                    <a class="rounded-full focus:outline-none focus:ring-2 focus:bg-indigo-50 focus:ring-indigo-800 ml-4 sm:ml-8" href="/{{siguiente}}/">
                                        <div class="py-2 px-8 text-gray-600 hover:text-indigo-700 hover:bg-indigo-100 rounded-full">
                                            <p>Siguiente</p>
                                        </div>
                                    </a>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <button id="toggleButton" class="focus:ring-2 focus:ring-offset-2 focus:ring-indigo-600 mt-4 sm:mt-0 inline-flex items-start justify-start px-6 py-3 bg-indigo-700 hover:bg-indigo-600 focus:outline-none rounded">
                    <p class="text-sm font-medium leading-none text-white">
                        <svg class="h-6 w-6 text-white-600" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <circle cx="12" cy="12" r="10" />
                            <line x1="12" y1="8" x2="12" y2="16" />
                            <line x1="8" y1="12" x2="16" y2="12" />
                        </svg>
                    </p>
                </button>
            </div>

            <div class="mt-7 overflow-x-auto">
                <table class="w-full whitespace-nowrap">
                    <tbody>
                        {% for data in lobbies_information %}
                        <tr tabindex="0" class="focus:outline-none h-16 border border-gray-100 rounded">
                            <td>
                                <div class="flex items-center pl-5">
                                    <p class="text-base font-medium leading-none text-gray-700 mr-2">
                                        {% if data.white_player %}
                                        <div class="image-wrapper w-[50px] h-auto p-1 rounded cursor-pointer transition-all duration-200">
                                            <img src="/static/MultiplayerOnline/assets/images/pieces/white/king.png" alt="White King" class="w-full h-auto rounded">
                                        </div>
                                        {{ data.white_player }}
                                        {% else %}
                                        <div class="image-wrapper w-[50px] h-auto p-1 rounded cursor-pointer transition-all duration-200">
                                            <img src="/static/MultiplayerOnline/assets/images/pieces/black/king.png" alt="Black King" class="w-full h-auto rounded">
                                        </div>
                                        {{ data.black_player }}
                                        {% endif %}
                                    </p>
                                </div>
                            </td>
                            <td class="pl-24">
                                <div class="flex items-center">
                                    <p class="text-sm leading-none text-gray-600 ml-2">{{data.id}}</p>
                                </div>
                            </td>
                            <td class="pl-5">
                                <div class="flex items-center">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20" fill="none">
                                        <circle cx="10" cy="10" r="8" stroke="#52525B" stroke-width="1.25"/>
                                        <path d="M10 10 L10 5" stroke="#52525B" stroke-width="1.25" stroke-linecap="round" stroke-linejoin="round"/>
                                        <rect x="8.75" y="1" width="2.5" height="1.5" fill="#52525B" stroke="#52525B" stroke-width="1.25" stroke-linejoin="round"/>
                                    </svg>
                                    <p class="text-sm leading-none text-gray-600 ml-2">{{data.timer}}:00</p>
                                </div>
                            </td>
                            <td class="pl-5">
                                <div class="flex items-center">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20" fill="none">
                                        <circle cx="10" cy="10" r="9" stroke="#52525B" stroke-width="1"/>
                                        <path d="M9 4h2v2h2v2h-2v6h1v2h-4v-2h1V8H7V6h2V4z" fill="#52525B" stroke="#52525B" stroke-width="0.5"/>
                                        <path d="M9 4.5h2v1H9v-1z" fill="#52525B" stroke="#52525B" stroke-width="0.5"/>
                                        <line x1="9" y1="12" x2="11" y2="12" stroke="#52525B" stroke-width="0.5"/>
                                    </svg>
                                    <p class="text-sm leading-none text-gray-600 ml-2">{{data.bet_amount}}</p>
                                </div>
                            </td>
                            <td class="pl-5">
                                <div class="flex items-center">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20" fill="none">
                                        <path d="M12.5 5.83339L7.08333 11.2501C6.75181 11.5816 6.56556 12.0312 6.56556 12.5001C6.56556 12.9689 6.75181 13.4185 7.08333 13.7501C7.41485 14.0816 7.86449 14.2678 8.33333 14.2678C8.80217 14.2678 9.25181 14.0816 9.58333 13.7501L15 8.33339C15.663 7.67034 16.0355 6.77107 16.0355 5.83339C16.0355 4.8957 15.663 3.99643 15 3.33339C14.337 2.67034 13.4377 2.29785 12.5 2.29785C11.5623 2.29785 10.663 2.67034 10 3.33339L4.58333 8.75005C3.58877 9.74461 3.03003 11.0935 3.03003 12.5001C3.03003 13.9066 3.58877 15.2555 4.58333 16.2501C5.57789 17.2446 6.92681 17.8034 8.33333 17.8034C9.73985 17.8034 11.0888 17.2446 12.0833 16.2501L17.5 10.8334" stroke="#52525B" stroke-width="1.25" stroke-linecap="round" stroke-linejoin="round"/>
                                    </svg>
                                    <p class="text-sm leading-none text-gray-600 ml-2">{{data.status}}</p>
                                </div>
                            </td>
                            <td class="pl-5">
                                {% if user.wallet >= data.bet_amount %}
                                <a href="/join/{{data.id}}">
                                    <button class="inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-600">
                                        <p class="text-xs font-medium leading-none text-white">Unirse</p>
                                    </button>
                                </a>
                                {% else %}
                                <button class="inline-flex items-center px-4 py-2 bg-gray-400 text-white rounded cursor-not-allowed" disabled>
                                    <p class="text-xs font-medium leading-none text-white">Unirse</p>
                                </button>
                                {% endif %}
                            </td>
                        </tr>
                        {% endfor %}
                    </tbody>
                </table>
            </div>
        </div>
    </div>

    <div id="createLobbyModal" class="fixed inset-0 bg-gray-800 bg-opacity-50 flex items-center justify-center z-50 hidden">
        <div class="bg-white p-8 rounded-lg shadow-lg w-full max-w-md">
            <button id="closeButton" class="absolute top-2 right-2 text-gray-500 hover:text-gray-800">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/>
                </svg>
            </button>
            <h2 class="text-lg font-semibold mb-4">Crear nuevo Lobby</h2>
            <form action="/create_lobby" method="post">
                <div class="mb-4">
                    <label for="amount" class="block text-sm font-medium text-gray-700">Apuesta (ChessCoin)</label>
                    <input
                        type="number"
                        id="amount"
                        name="amount"
                        class="mt-1 block w-full border border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"
                        placeholder="Ingrese la cantidad"
                        required
                    />
                </div>
                <div class="flex justify-end">
                    <button type="submit" class="inline-flex items-center px-4 py-2 bg-indigo-600 text-white rounded hover:bg-indigo-500 focus:outline-none focus:ring-2 focus:ring-indigo-600">
                        Crear Lobby
                    </button>
                </div>
            </form>
        </div>
    </div>
</div>

