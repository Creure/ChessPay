
{% extends 'lobbies.html' %}

{% block title %}Wallet{% endblock %}

{% block content %}

<div class="w-full max-w-screen-xl mx-auto bg-white shadow-xl rounded-xl pt-[72px] p-8 border border-gray-300 max-h-screen overflow-y-auto">
    <!-- Contenedor Principal -->
    <div class="relative">
        {%if not user.user_profile.gui%}
            <div class="p-4  border-b">
                <img src="/static/Auth/images/ChessPay-Logo.png" alt="ChessPay Logo" class="w-52 h-auto mx-auto">
            </div>
        {%endif%}
        <!-- Botón Configurar -->
        <div class="relative mt-4 mr-1 flex items-center m-4">
            
            <span class="mr-2 text-gray-700 font-semibold "><svg class="h-8 w-8 text-indigo-500" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">  <path stroke="none" d="M0 0h24V0H0z"/>  <line x1="3" y1="10" x2="3" y2="16" />  <line x1="21" y1="10" x2="21" y2="16" />  <path d="M7 9h10v8a1 1 0 0 1 -1 1h-8a1 1 0 0 1 -1 -1v-8a5 5 0 0 1 10 0" />  <line x1="8" y1="3" x2="9" y2="5" />  <line x1="16" y1="3" x2="15" y2="5" />  <line x1="9" y1="18" x2="9" y2="21" />  <line x1="15" y1="18" x2="15" y2="21" /></svg></span>
            <label class="relative inline-flex items-center cursor-pointer">
                <input type="checkbox" id="interfaceToggle" class="sr-only peer" {% if user.user_profile.gui%} checked {%endif%}>
                <div class="w-11 h-6 bg-gray-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-0.5 after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all"></div>
            </label>
            <span class="ml-2 text-gray-700 font-semibold "><svg class="h-8 w-8 text-indigo-500" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">  <path stroke="none" d="M0 0h24v0H0z"/>  <rect x="3" y="4" width="18" height="12" rx="1" />  <line x1="7" y1="20" x2="17" y2="20" />  <line x1="9" y1="16" x2="9" y2="20" />  <line x1="15" y1="16" x2="15" y2="20" /></svg></span>
        </div>

        <!-- Fila Principal -->
        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
            <!-- Componente Información Personal -->
            <div class="bg-gradient-to-r from-gray-50 via-gray-100 to-gray-200 p-8 rounded-lg shadow-lg  max-w-xl">
                <h2 class="text-2xl font-bold text-gray-800 mb-6">Información Personal</h2>
                <form id="personalForm" class="space-y-6">
                    <!-- Campos ocultos inicialmente -->
                    <div class="form-step hidden">
                        <label class="block text-gray-600 font-semibold mb-2">Nombre Completo</label>
                        <input type="text" class="w-full px-4 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:border-indigo-500 transition duration-200 ease-in-out" placeholder="Tu Nombre">
                    </div>
                    <div class="form-step hidden">
                        <label class="block text-gray-600 font-semibold mb-2">Correo Electrónico</label>
                        <input type="email" class="w-full px-4 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:border-indigo-500 transition duration-200 ease-in-out" placeholder="Tu Correo">
                    </div>
                    <div class="form-step hidden">
                        <label class="block text-gray-600 font-semibold mb-2">Teléfono</label>
                        <input type="tel" class="w-full px-4 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:border-indigo-500 transition duration-200 ease-in-out" placeholder="Tu Teléfono">
                    </div>
                    <div class="form-step hidden">
                        <label class="block text-gray-600 font-semibold mb-2">Fecha de Nacimiento</label>
                        <input type="date" class="w-full px-4 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:border-indigo-500 transition duration-200 ease-in-out">
                    </div>
                    <div class="form-step hidden">
                        <label class="block text-gray-600 font-semibold mb-2">Género</label>
                        <select class="w-full px-4 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:border-indigo-500 transition duration-200 ease-in-out">
                            <option value="">Selecciona tu Género</option>
                            <option value="male">Masculino</option>
                            <option value="female">Femenino</option>
                            <option value="other">Otro</option>
                        </select>
                    </div>
                    <div class="form-step hidden">
                        <label class="block text-gray-600 font-semibold mb-2">Dirección</label>
                        <input type="text" class="w-full px-4 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:border-indigo-500 transition duration-200 ease-in-out" placeholder="Tu Dirección">
                    </div>
                    <div class="form-step hidden">
                        <label class="block text-gray-600 font-semibold mb-2">Ciudad</label>
                        <input type="text" class="w-full px-4 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:border-indigo-500 transition duration-200 ease-in-out" placeholder="Tu Ciudad">
                    </div>
                    <div class="form-step hidden">
                        <label class="block text-gray-600 font-semibold mb-2">Estado/Provincia</label>
                        <input type="text" class="w-full px-4 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:border-indigo-500 transition duration-200 ease-in-out" placeholder="Tu Estado/Provincia">
                    </div>
                    <div class="form-step hidden">
                        <label class="block text-gray-600 font-semibold mb-2">Código Postal</label>
                        <input type="text" class="w-full px-4 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:border-indigo-500 transition duration-200 ease-in-out" placeholder="Tu Código Postal">
                    </div>
                    <div class="form-step hidden">
                        <label class="block text-gray-600 font-semibold mb-2">Cédula de Identidad Electoral</label>
                        <input type="text" class="w-full px-4 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:border-indigo-500 transition duration-200 ease-in-out" placeholder="Número de Cédula">
                    </div>
            
                    <!-- Botones de Navegación -->
                    <div id="navigationButtons" class="flex justify-between mt-6">
                        <button id="prevButton" type="button" class="bg-gray-300 text-gray-800 py-2 px-4 rounded-lg shadow-md hover:bg-gray-400 transition duration-200 ease-in-out hidden">Anterior</button>
                        <button id="nextButton" type="button" class="bg-indigo-600 text-white py-2 px-4 rounded-lg shadow-md hover:bg-indigo-700 transition duration-200 ease-in-out">Siguiente</button>
                        <button id="saveButton" type="submit" class="bg-green-600 text-white py-2 px-4 rounded-lg shadow-md hover:bg-green-700 transition duration-200 ease-in-out hidden">Guardar</button>
                    </div>
                </form>
            </div>            

            <!-- Componente Subir Documentos -->
            <div class="bg-gradient-to-r from-gray-50 via-gray-100 to-gray-200 p-8 rounded-lg shadow-lg">
                <h2 class="text-2xl font-bold text-gray-800 mb-6">Subir Documentos</h2>
                <form>
                    <div class="mb-4">
                        <label class="block text-gray-600 font-semibold mb-2">Documento de Identidad</label>
                        <input type="file" class="w-full px-4 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:border-indigo-500 transition duration-200 ease-in-out">
                    </div>
                   
                    <button type="submit" class="bg-indigo-600 text-white py-2 px-4 rounded-lg shadow-md hover:bg-green-700 transition duration-200 ease-in-out">Subir Documentos</button>
                </form>
            </div>
        </div>

        <!-- Tabla Historial -->
        <div class="mt-8">
            <table class="min-w-full bg-white border border-gray-300 rounded-lg shadow-lg">
                <thead>
                    <tr class="bg-gray-200 text-gray-700">
                        <th class="py-3 px-4 text-left border-b">ID</th>
                        <th class="py-3 px-4 text-left border-b">Fecha y Hora</th>
                        <th class="py-3 px-4 text-left border-b">Dirección IP</th>
                        <th class="py-3 px-4 text-left border-b">Ubicación</th>
                        <th class="py-3 px-4 text-left border-b">Estado</th>
                    </tr>
                </thead>
                <tbody>
                    <!-- Filas de la tabla -->
                    <tr>
                        <td class="py-3 px-4 border-b text-left">1</td>
                        <td class="py-3 px-4 border-b text-left">01/09/2024 08:45 AM</td>
                        <td class="py-3 px-4 border-b text-left">192.168.1.1</td>
                        <td class="py-3 px-4 border-b text-left">New York, USA</td>
                        <td class="py-3 px-4 border-b text-left">Éxito</td>
                    </tr>
                    <tr>
                        <td class="py-3 px-4 border-b text-left">2</td>
                        <td class="py-3 px-4 border-b text-left">01/09/2024 09:15 AM</td>
                        <td class="py-3 px-4 border-b text-left">192.168.1.2</td>
                        <td class="py-3 px-4 border-b text-left">Los Angeles, USA</td>
                        <td class="py-3 px-4 border-b text-left">Éxito</td>
                    </tr>
                    <tr>
                        <td class="py-3 px-4 border-b text-left">3</td>
                        <td class="py-3 px-4 border-b text-left">01/09/2024 10:00 AM</td>
                        <td class="py-3 px-4 border-b text-left">192.168.1.3</td>
                        <td class="py-3 px-4 border-b text-left">Miami, USA</td>
                        <td class="py-3 px-4 border-b text-left">Fallido</td>
                    </tr>
                    <tr>
                        <td class="py-3 px-4 border-b text-left">4</td>
                        <td class="py-3 px-4 border-b text-left">01/09/2024 10:30 AM</td>
                        <td class="py-3 px-4 border-b text-left">192.168.1.4</td>
                        <td class="py-3 px-4 border-b text-left">Chicago, USA</td>
                        <td class="py-3 px-4 border-b text-left">Éxito</td>
                    </tr>
                    <!-- Más filas -->
                </tbody>
            </table>
        </div>
        
    </div>
</div>








<script>
    document.addEventListener('DOMContentLoaded', function() {
        const steps = document.querySelectorAll('.form-step');
        const prevButton = document.getElementById('prevButton');
        const nextButton = document.getElementById('nextButton');
        const saveButton = document.getElementById('saveButton');
        let currentStep = 0;

        function showStep(index) {
            steps.forEach((step, i) => {
                step.classList.toggle('hidden', i !== index);
            });
            prevButton.classList.toggle('hidden', index === 0);
            nextButton.classList.toggle('hidden', index === steps.length - 1);
            saveButton.classList.toggle('hidden', index < steps.length - 1);
        }

        nextButton.addEventListener('click', () => {
            if (currentStep < steps.length - 1) {
                currentStep++;
                showStep(currentStep);
            }
        });

        prevButton.addEventListener('click', () => {
            if (currentStep > 0) {
                currentStep--;
                showStep(currentStep);
            }
        });

        showStep(currentStep); // Show the first step initially
    });
</script>




<script>
    document.getElementById('interfaceToggle').addEventListener('change', function() {
    // Obtener el estado del toggle
    const toggleState = this.checked ? 'on' : 'off';
    console.log(toggleState)
    // Enviar el estado al servidor
    fetch('/profile/update/GUI/', {
        method: 'POST', // Puede ser 'GET' o 'POST' dependiendo de tus necesidades
        headers: {
            'Content-Type': 'application/json',
            'X-CSRFToken': '{{ csrf_token }}' // Si usas Django, asegúrate de incluir el token CSRF
        },
        body: JSON.stringify({ 'state': toggleState })
    })
    .then(response => response.json())
    .then(data => {
        console.log('Success:', data);
        
        if(data.status == 'success'){
            location.reload();
        }
        // Puedes hacer algo con la respuesta del servidor aquí
    })
    .catch((error) => {
        console.error('Error:', error);
    });
});
</script>
{% endblock %}